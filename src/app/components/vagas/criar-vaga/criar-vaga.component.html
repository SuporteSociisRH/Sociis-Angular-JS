<section class="content-header">
	<div class="form-group">
		<h1>
			Nova Vaga
		</h1>

		<ol class="breadcrumb">
			<li><a [routerLink]="['/dashboard']"><i class="fa fa-dashboard"></i> Home</a></li>
			<li><a [routerLink]="['/vagas']">Vagas</a></li>
			<li class="active">Nova Vaga</li>
		</ol>
	</div>
</section>




<div class="row">

	<div class="col-md-12 ">

		<mat-horizontal-stepper class="full-width" [linear]="isLinear" #stepper>
			\
			<!-- dados da vaga-->
			<mat-step [stepControl]="dadosVaga">
				<form [formGroup]="dadosVaga">
					<ng-template matStepLabel>Dados da Vaga</ng-template>
					<!-- Upload da Logo da empresa -->
					<div class="col-md-3 mt-4">
						<div class="upload-btn-wrapper">
							<button class="btn">Upload Logo</button>
							<input formControlName="logo" type="file" name="myfile" />
						</div>
					</div>
					<!-- Catergoria da vaga -->
					<div class="col-md-7 mt-4">
						<mat-form-field class="full-width">
							

							<input type="text" placeholder="Categoria da Vaga" matInput formControlName="categoria" [matAutocomplete]="categoriasVaga">
							<mat-icon matSuffix  (click)="limparCampoCategoriaVaga()">clear</mat-icon>
							<mat-autocomplete #categoriasVaga="matAutocomplete">
								<mat-option value="{{option}}" *ngFor="let option of filteredListaCategoriaVaga | async" [value]="listaCategoriaVaga">
									{{option}}
								</mat-option>
							</mat-autocomplete>

							<!-- <mat-select required formControlName="categoria" placeholder="Categoria da Vaga">
								<mat-option selected="selected" value="">Categoria Vaga</mat-option>
								<mat-option value="1"></mat-option>
								<mat-option value="2"></mat-option>
								<mat-option value="3"></mat-option>
								<mat-option value="4"></mat-option>
								<mat-option value="5"></mat-option>
								<mat-option value="6"></mat-option>
								<mat-option value="7"></mat-option>
								<mat-option value="8"></mat-option>
								<mat-option value="9"></mat-option>
								<mat-option value="10"></mat-option>
								<mat-option value="11"></mat-option>
								<mat-option value="12"></mat-option>
								<mat-option value="13"></mat-option>
								<mat-option value="14"></mat-option>
								<mat-option value="15"></mat-option>
								<mat-option value="16"></mat-option>
								<mat-option value="17"></mat-option>
								<mat-option value="18"></mat-option>
								<mat-option value="19"></mat-option>
								<mat-option value="20"></mat-option>
								<mat-option value="21"></mat-option>
								<mat-option value="22"></mat-option>
								<mat-option value="23"></mat-option>
							</mat-select> -->
						</mat-form-field>
					</div>
					<!-- Nome do responsável  -->
					<div class="col-md-12 mt-2">
						<mat-form-field class="full-width">
							<input formControlName="nomeResponsavelVaga" matInput placeholder="Nome do Responsável pela Vaga" required>
						</mat-form-field>
					</div>
					<!-- E-mail -->
					<div class="col-md-12 mt-2">
						<mat-form-field class="full-width">
							<input formControlName="email" matInput placeholder="E-mail" required>
						</mat-form-field>
					</div>
					<!-- Nivel Hierarquico -->
					<div class="col-md-4 mt-2">
						<mat-form-field class="full-width">
							<mat-select required formControlName="nivelHierarquico" placeholder="Nível Hierárquico">
								<mat-option selected="selected" value="">Nível Hierárquico</mat-option>
								<mat-option value="Estagiário"> Estagiário</mat-option>
								<mat-option value="Operacional"> Operacional</mat-option>
								<mat-option value="Auxiliar"> Auxiliar</mat-option>
								<mat-option value="Assistente"> Assistente</mat-option>
								<mat-option value="Trainee"> Trainee</mat-option>
								<mat-option value="Analista"> Analista</mat-option>
								<mat-option value="Encarregado"> Encarregado</mat-option>
								<mat-option value="Supervisor"> Supervisor</mat-option>
								<mat-option value="Especialista"> Especialista</mat-option>
								<mat-option value="Coordenador">Coordenador</mat-option>
								<mat-option value="Gerente">Gerente</mat-option>
								<mat-option value="Diretor">Diretor</mat-option>
							</mat-select>
						</mat-form-field>
					</div>
					<!-- telefone -->
					<div class="col-md-4 mt-2">
						<mat-form-field class="full-width">
							<input formControlName="telefone" mask="(00) 0000-0000" matInput placeholder="Telefone" required>
						</mat-form-field>
					</div>
					<!-- celular -->
					<div class="col-md-4 mt-2">
						<mat-form-field class="full-width">
							<input formControlName="celular" mask="(00) 00000-0000" matInput placeholder="Celular" required>
						</mat-form-field>
					</div>
					<!-- observações -->
					<div class="col-md-12 mt-2">
						<mat-form-field class="full-width">
							<textarea formControlName="observacoes" matInput rows="7" placeholder="Observações"></textarea>
						</mat-form-field>
					</div>
				</form>
				<div class="col-md-12">
					<button class="pull-right" mat-raised-button matStepperNext color="primary">Próximo Passo</button>
				</div>
			</mat-step>
			<!-- perfil da vaga -->
			<mat-step [stepControl]="perfilVaga">
				<form [formGroup]="perfilVaga">
					<ng-template matStepLabel>Perfil da Vaga</ng-template>
					<div class="row mt-3">
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<mat-select required formControlName="vinculoEmpregaticio" placeholder="Tipo de Vínculo Empregatício">
									<mat-option selected="selected" value="">Vínculo Empregatício</mat-option>
									<mat-option value="1">CLT</mat-option>
									<mat-option value="2">Estágio</mat-option>
									<mat-option value="3">Freelancer</mat-option>
									<mat-option value="4">Prestador de Serviço(PJ)</mat-option>
									<mat-option value="5">Temporário</mat-option>
									<mat-option value="6">Intermitente</mat-option>
									<mat-option value="7">Vaga PCD</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<input formControlName="cargo" matInput placeholder="Qual o Cargo?" required>
							</mat-form-field>
						</div>
					</div>

					<div class="row mt-3">
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<input formControlName="salario" matInput placeholder="Salário" required>
							</mat-form-field>
						</div>
						<div class="col-md-6 mt-2">
							<mat-checkbox formControlName="salarioCombinar" class="example-margin">Salário a Combinar</mat-checkbox>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="cargoComissionado" placeholder="Cargo Comissionado">
									<mat-option selected="selected" disabled value="">Selecione..</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="SIM, SOMENTE COMISSÃO">SIM, SOMENTE COMISSÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-2">
							<mat-form-field class="full-width">

								<input formControlName="comissao" matInput placeholder="Comissão (% ou R$)">
							</mat-form-field>
						</div>
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<input formControlName="diasHoras" matInput placeholder="Dias e Horários" required>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<mat-toolbar class="mb-3">Benefícios</mat-toolbar>

						<div class="col-md-3" formArrayName="beneficios" *ngFor="let beneficio of perfilVaga.get('beneficios').controls; let i = index">
							<mat-checkbox [value]="beneficios[i]" class="example-margin" [formControlName]="i">{{ beneficios[i] }}</mat-checkbox>
						</div>

					</div>

					<div class="row mt-3">
						<div class="col-md-2">
							<mat-form-field class="full-width">
								<input formControlName="numeroVagas" matInput pattern="-?[0-9]*(\.[0-9]+)?" placeholder="Nº Vagas" required>
							</mat-form-field>
						</div>
						<div class="col-md-5">
							<mat-form-field class="full-width">
								<mat-select formControlName="estado" placeholder="UF" required>
									<mat-option selected="selected" disabled value="">Selecione..</mat-option>
									<mat-option value="1">AC</mat-option>
									<mat-option value="2">AL</mat-option>
									<mat-option value="3">AM</mat-option>
									<mat-option value="4">AP</mat-option>
									<mat-option value="5">BA</mat-option>
									<mat-option value="6">CE</mat-option>
									<mat-option value="7">DF</mat-option>
									<mat-option value="8">ES</mat-option>
									<mat-option value="9">GO</mat-option>
									<mat-option value="10">MA</mat-option>
									<mat-option value="11">MG</mat-option>
									<mat-option value="12">MS</mat-option>
									<mat-option value="13">MT</mat-option>
									<mat-option value="14">PA</mat-option>
									<mat-option value="15">PB</mat-option>
									<mat-option value="16">PE</mat-option>
									<mat-option value="17">PI</mat-option>
									<mat-option value="18">PR</mat-option>
									<mat-option value="19">RJ</mat-option>
									<mat-option value="20">RN</mat-option>
									<mat-option value="21">RO</mat-option>
									<mat-option value="22">RR</mat-option>
									<mat-option value="23">RS</mat-option>
									<mat-option value="24">SC</mat-option>
									<mat-option value="25">SE</mat-option>
									<mat-option value="26">SP</mat-option>
									<mat-option value="27">TO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>

						<div class="col-md-5">
							<mat-form-field class="full-width">
								<mat-select formControlName="cidade" placeholder="Cidade" required>
									<mat-option selected="selected" disabled value="">Selecione..</mat-option>
									<mat-option value="1">AC</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-12 ">
							<mat-form-field class="full-width">
								<textarea required formControlName="atividadesRealizadas" matInput rows="7" placeholder="Atividades a Serem Realizadas"></textarea>
							</mat-form-field>
						</div>
					</div>
				</form>
				<div class="col-md-12">
					<button class="pull-right" mat-raised-button matStepperNext color="primary">Próximo Passo</button>
					<button class="pull-left" mat-raised-button matStepperPrevious color="warn">Voltar</button>
				</div>
			</mat-step>
			<!-- requisitos-->
			<mat-step [stepControl]="requisitosVaga">
				<form [formGroup]="requisitosVaga">
					<ng-template matStepLabel>Requisitos Desejados</ng-template>
					<div class="row mt-3">
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<input formControlName="idadeMinima" matInput placeholder="Idade Minima" required>
							</mat-form-field>
						</div>
						<div class="col-md-6">
							<mat-form-field class="full-width">
								<mat-select formControlName="escolaridade" required placeholder="Escolaridade">
									<mat-option selected="selected" value="">Escolaridade</mat-option>
									<mat-option value="1">Fundamental</mat-option>
									<mat-option value="2">Ensino Médio</mat-option>
									<mat-option value="3">Técnico</mat-option>
									<mat-option value="4">Superior Tecnólogo</mat-option>
									<mat-option value="5">Superior</mat-option>
									<mat-option value="6">Especialização</mat-option>
									<mat-option value="7">Mestrado</mat-option>
									<mat-option value="8">Douatorado</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="tempoExperiencia" placeholder="Tempo de Experiência" required>
									<mat-option selected="selected" value="">Tempo de Experiência</mat-option>
									<mat-option value="1">Sem experiência</mat-option>
									<mat-option value="2">Menos de 01 ano</mat-option>
									<mat-option value="3">Entre 01 e 03 anos</mat-option>
									<mat-option value="4">Entre 03 e 05 anos</mat-option>
									<mat-option value="5">Mais de 05 anos</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-8">
							<mat-form-field class="full-width">
								<input formControlName="cursosNecessarios" matInput placeholder="Cursos Necessários" required>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-12">
							<mat-form-field class="full-width">
								<input formControlName="conhecimentosEmSoftware" matInput placeholder="Conhecimento em Softwares? (Pacote Office, CorelDraw ...)">
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-12">
							<mat-form-field class="full-width">
								<input formControlName="linguaEstrangeira" matInput placeholder="Línguas Estrangeiras? (separado por Vírgula)">
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select required formControlName="sexo" placeholder="Sexo">
									<mat-option selected="selected" value="" required>Selecione...</mat-option>
									<mat-option value="MASCULINO">Masculino</mat-option>
									<mat-option value="FEMININO">Feminino</mat-option>
									<mat-option value="QUALQUER">Qualquer</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-3">
							<mat-form-field class="full-width">
								<mat-select required formControlName="habilitacao" placeholder="Habilitação">
									<mat-option selected="selected" value="" required>Selecione ...</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-5">
							<div style="display:inline;" formArrayName="categoriaHabilitacao" *ngFor="let categoria of requisitosVaga.get('categoriaHabilitacao').controls; let i = index">
								<mat-checkbox [value]="categorias_direcao[i]" class="example-margin" [formControlName]="i"> {{
									categorias_direcao[i] }} </mat-checkbox>
							</div>

						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-8">
							<mat-form-field class="full-width">
								<mat-select formControlName="disponibilidadeViagem" required placeholder="Disponibilidade para Viagens">
									<mat-option selected="selected" value="">Selecione ...</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="veiculoProprio" required placeholder="Veículo Próprio">
									<mat-option selected="selected" value="">Selecione ...</mat-option>
									<mat-option value="1">SIM</mat-option>
									<mat-option value="2">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<mat-toolbar class="mb-3">Competências Necessárias</mat-toolbar>

						<div class="col-md-4" formArrayName="competencias" *ngFor="let competencia of requisitosVaga.get('competencias').controls; let i = index">
							<mat-checkbox [value]="competencias[i]" class="example-margin" [formControlName]="i"> {{ competencias[i] }}
							</mat-checkbox>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-12 ">
							<mat-form-field class="full-width">
								<textarea formControlName="outrasInformacoes" matInput rows="7" placeholder="Outras Informações"></textarea>
							</mat-form-field>
						</div>
					</div>
					<div class="row mt-3">
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="vagaSigilosa" required placeholder="Vaga Sigilosa Para Pessoas da Sua Empresa ?">
									<mat-option selected="selected" value="">Selecione ...</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="vagaUrgente" required placeholder="Vaga Urgente ?">
									<mat-option selected="selected" value="">Selecione ...</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
						<div class="col-md-4">
							<mat-form-field class="full-width">
								<mat-select formControlName="empresaConfidencial" required placeholder="Nome da Empesa Confidencial ?">
									<mat-option selected="selected" value="">Selecione ...</mat-option>
									<mat-option value="SIM">SIM</mat-option>
									<mat-option value="NÃO">NÃO</mat-option>
								</mat-select>
							</mat-form-field>
						</div>
					</div>
					<button class="pull-left" mat-raised-button matStepperPrevious color="warn">Voltar</button>
					<button [disabled]="dadosVaga.invalid" class="pull-right" mat-raised-button (click)="cadastrarVaga()" color="primary">Finalizar</button>
				</form>


			</mat-step>
		</mat-horizontal-stepper>
	</div>
</div>